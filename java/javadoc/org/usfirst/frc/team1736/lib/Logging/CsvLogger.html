<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_65) on Wed Jun 15 21:24:10 CDT 2016 -->
<title>CsvLogger</title>
<meta name="date" content="2016-06-15">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CsvLogger";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/simpleCsvLogger.html" title="class in org.usfirst.frc.team1736.lib.Logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/usfirst/frc/team1736/lib/Logging/CsvLogger.html" target="_top">Frames</a></li>
<li><a href="CsvLogger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.usfirst.frc.team1736.lib.Logging</div>
<h2 title="Class CsvLogger" class="title">Class CsvLogger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.usfirst.frc.team1736.lib.Logging.CsvLogger</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CsvLogger</span>
extends java.lang.Object</pre>
<div class="block">DESCRIPTION:
 <br>
 Provides an API for FRC 1736 Robot Casserole datalogging on 
 the robot during testing or matches. Will write lines into a  
 CSV file with a unique name between calls to init() and 
 close(). output_dir is hardcoded to point to a specific 2016 
 folder on a flash drive connected to the roboRIO. This implementation
 utilizes java's "methodHandles" libraries to refer to the data
 which is to be put into the log. It is also a static class, which
 needs no instantiation.
 <br>
 <br>
 USAGE:    
 <ol>   
 <li>During init, call addLoggingFieldDouble method for each field to be logged.</li> 
 <li>During teleop init or autonomous init, call the init() function to start logging data to a new file.</li> 
 <li>Each loop, call the logData</li> 
 <li>During DisabledInit, call the close() method to close out any file which was being written to while the robot was doing something.</li> 
 <li>Post-match or -practice, extract the data logs from the USB drive(maybe using FTP?) and view with excel or your favourite software.</li> 
 </ol></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#CsvLogger--">CsvLogger</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#addLoggingFieldBoolean-java.lang.String-java.lang.String-java.lang.Class-java.lang.String-java.lang.Object-java.lang.Object...-">addLoggingFieldBoolean</a></span>(java.lang.String&nbsp;dataFieldName,
                      java.lang.String&nbsp;unitName,
                      java.lang.Class&lt;?&gt;&nbsp;classRef,
                      java.lang.String&nbsp;methodName,
                      java.lang.Object&nbsp;reference,
                      java.lang.Object...&nbsp;args)</code>
<div class="block">Add a field to be logged at each loop of the robot code.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#addLoggingFieldDouble-java.lang.String-java.lang.String-java.lang.Class-java.lang.String-java.lang.Object-java.lang.Object...-">addLoggingFieldDouble</a></span>(java.lang.String&nbsp;dataFieldName,
                     java.lang.String&nbsp;unitName,
                     java.lang.Class&lt;?&gt;&nbsp;classRef,
                     java.lang.String&nbsp;methodName,
                     java.lang.Object&nbsp;reference,
                     java.lang.Object...&nbsp;args)</code>
<div class="block">Add a field to be logged at each loop of the robot code.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#close--">close</a></span>()</code>
<div class="block">Closes the log file and ensures everything is written to disk.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#forceSync--">forceSync</a></span>()</code>
<div class="block">Clears the IO buffer in memory and forces things to file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#init--">init</a></span>()</code>
<div class="block">Determines a unique file name based on current timestamp, and opens a file in the 
 data captures directory and writes the initial lines to it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/CsvLogger.html#logData-boolean-">logData</a></span>(boolean&nbsp;forceSync)</code>
<div class="block">Logs data for all stored method handles.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CsvLogger--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CsvLogger</h4>
<pre>public&nbsp;CsvLogger()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="forceSync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceSync</h4>
<pre>public static&nbsp;int&nbsp;forceSync()</pre>
<div class="block">Clears the IO buffer in memory and forces things to file. Generally a 
 good idea to use this as infrequently as possible (because it increases logging overhead),
 but definitely use it before the roboRIO might crash without a proper call to the close() method
 (ie, during brownout)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on flush success or -1 on failure.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public static&nbsp;int&nbsp;close()</pre>
<div class="block">Closes the log file and ensures everything is written to disk. 
 init() must be called again in order to write to the file.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 on failure to close, 0 on success</dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public static&nbsp;int&nbsp;init()</pre>
<div class="block">Determines a unique file name based on current timestamp, and opens a file in the 
 data captures directory and writes the initial lines to it. Timestamp determination
 is done based on info received from the Driver station or FMS, so improper time
 there will cause oddly-named log files. Takes no action if log is already open.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on successful log open, -1 on failure</dd>
</dl>
</li>
</ul>
<a name="logData-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logData</h4>
<pre>public static&nbsp;int&nbsp;logData(boolean&nbsp;forceSync)</pre>
<div class="block">Logs data for all stored method handles.  Methods that are not considered "simple" should be 
 handled accordingly within this method.  This method should be called once per loop.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>forceSync</code> - set true if a forced write is desired (i.e. brownout conditions)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if log successful, -1 if log is not open, and -2 on other errors</dd>
</dl>
</li>
</ul>
<a name="addLoggingFieldDouble-java.lang.String-java.lang.String-java.lang.Class-java.lang.String-java.lang.Object-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLoggingFieldDouble</h4>
<pre>public static&nbsp;void&nbsp;addLoggingFieldDouble(java.lang.String&nbsp;dataFieldName,
                                         java.lang.String&nbsp;unitName,
                                         java.lang.Class&lt;?&gt;&nbsp;classRef,
                                         java.lang.String&nbsp;methodName,
                                         java.lang.Object&nbsp;reference,
                                         java.lang.Object...&nbsp;args)</pre>
<div class="block">Add a field to be logged at each loop of the robot code.  A method handle will be created and stored.
 This method is for methods which return a data type of double.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataFieldName</code> - Name of the field/column in the output data.  Also used for determining what to do for "complex" methods</dd>
<dd><code>unitName</code> - Name of the units for field/column in the output data.</dd>
<dd><code>classRef</code> - Class where the method is held, such as Joystick.class for getRawButton()</dd>
<dd><code>methodName</code> - Actual method name to be called for this field, such as "getRawButton"</dd>
<dd><code>reference</code> - A reference to the object whose method will be called.  If static method, this should be null.</dd>
<dd><code>args</code> - Optional list of arguments that are passed to the method, such as 0 in getRawButton(0)</dd>
</dl>
</li>
</ul>
<a name="addLoggingFieldBoolean-java.lang.String-java.lang.String-java.lang.Class-java.lang.String-java.lang.Object-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addLoggingFieldBoolean</h4>
<pre>public static&nbsp;void&nbsp;addLoggingFieldBoolean(java.lang.String&nbsp;dataFieldName,
                                          java.lang.String&nbsp;unitName,
                                          java.lang.Class&lt;?&gt;&nbsp;classRef,
                                          java.lang.String&nbsp;methodName,
                                          java.lang.Object&nbsp;reference,
                                          java.lang.Object...&nbsp;args)</pre>
<div class="block">Add a field to be logged at each loop of the robot code.  A method handle will be created and stored.
 This method is for methods which return a data type of boolean.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataFieldName</code> - Name of the field/column in the output data.  Also used for determining what to do for "complex" methods</dd>
<dd><code>unitName</code> - Name of the units for field/column in the output data.</dd>
<dd><code>classRef</code> - Class where the method is held, such as Joystick.class for getRawButton()</dd>
<dd><code>methodName</code> - Actual method name to be called for this field, such as "getRawButton"</dd>
<dd><code>reference</code> - A reference to the object whose method will be called.  If static method, this should be null.</dd>
<dd><code>args</code> - Optional list of arguments that are passed to the method, such as 0 in getRawButton(0)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/usfirst/frc/team1736/lib/Logging/simpleCsvLogger.html" title="class in org.usfirst.frc.team1736.lib.Logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/usfirst/frc/team1736/lib/Logging/CsvLogger.html" target="_top">Frames</a></li>
<li><a href="CsvLogger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
